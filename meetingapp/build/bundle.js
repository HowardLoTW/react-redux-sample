webpackJsonp([1],{0:function(e,t,n){e.exports=n(176)},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){return{type:L,payload:{}}}function o(){return{type:I,payload:{}}}function u(e,t){return{type:w,payload:{row:e,col:t}}}function l(){return{type:C,payload:{}}}function i(e){return{type:j,payload:{timetable:e}}}function s(e){return{type:P,payload:{error:e}}}function c(){var e=new M["default"].Object.extend("Timetable"),t=new e;return t.set("user",M["default"].User.current()),function(e,n){var r=n(),a=r.timetable.timetable;return t.set("data",JSON.stringify(a)),e(l()),t.save(null,{success:function(t){e(i(t))},error:function(t,n){e(s(n))}})}}function f(){return{type:U,payload:{}}}function d(e){return{type:B,payload:{timetable:e}}}function p(e){return{type:N,payload:{error:e}}}function _(){var e=new M["default"].Object.extend("Timetable"),t=new M["default"].Query(e);return t.equalTo("user",M["default"].User.current()),function(e,n){return e(f()),t.first({success:function(t){e(d(t))},error:function(t){e(p(t))}})}}function E(){return{type:H,payload:{}}}function b(e){return{type:k,payload:{timetable:e}}}function m(e){return{type:G,payload:{error:e}}}function T(){return function(e,t){var n=t(),r=n.timetable.timetableParseObject,a=n.timetable.timetable;return r.set("data",JSON.stringify(a)),e(E()),r.save(null,{success:function(t){e(b(t))},error:function(t,n){e(m(n))}})}}function y(){return{type:F,payload:{}}}function v(){return{type:Q,payload:{}}}function g(e){return{type:V,payload:{timetables:e}}}function h(e){return{type:x,payload:{error:e}}}function S(){var e=new M["default"].Object.extend("Timetable"),t=new M["default"].Query(e);return t.notEqualTo("user",M["default"].User.current()),t.include("user"),function(e,n){return e(v()),t.find({success:function(t){e(g(t))},error:function(t){e(h(t))}})}}function O(e){return{type:J,payload:{index:e}}}function R(){return{type:q,payload:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.RESET_OTHERS_TIMETABLE_VISIBILITY=t.TOGGLE_OTHERS_TIMETABLE=t.FETCH_OTHERS_TIMETABLES_ERROR=t.FETCH_OTHERS_TIMETABLES_SUCCESS=t.FETCH_OTHERS_TIMETABLES_REQUEST=t.RESET_TIMETABLE=t.SAVE_TIMETABLE_ERROR=t.SAVE_TIMETABLE_SUCCESS=t.SAVE_TIMETABLE_REQUEST=t.FETCH_TIMETABLE_ERROR=t.FETCH_TIMETABLE_SUCCESS=t.FETCH_TIMETABLE_REQUEST=t.CREATE_TIMETABLE_ERROR=t.CREATE_TIMETABLE_SUCCESS=t.CREATE_TIMETABLE_REQUEST=t.SET_AVAILABLE_TIME=t.CANCEL_SET_AVAILABLE_TIME=t.REQUEST_SET_AVAILABLE_TIME=void 0,t.requestSetAvailableTime=a,t.cancelSetAvailableTime=o,t.setAvailableTime=u,t.createTimetableRequest=l,t.createTimetableSuccess=i,t.createTimetableError=s,t.createTimetable=c,t.fetchTimetableRequest=f,t.fetchTimetableSuccess=d,t.fetchTimetableError=p,t.fetchTimetable=_,t.saveTimetableRequest=E,t.saveTimetableSuccess=b,t.saveTimetableError=m,t.saveTimetable=T,t.resetTimetable=y,t.fetchOthersTimetablesRequest=v,t.fetchOthersTimetablesSuccess=g,t.fetchOthersTimetablesError=h,t.fetchOthersTimetables=S,t.toggleOthersTimetable=O,t.resetOthersTimetableVisibility=R;var A=n(73),M=r(A),L=t.REQUEST_SET_AVAILABLE_TIME="REQUEST_SET_AVAILABLE_TIME",I=t.CANCEL_SET_AVAILABLE_TIME="CANCEL_SET_AVAILABLE_TIME",w=t.SET_AVAILABLE_TIME="SET_AVAILABLE_TIME",C=t.CREATE_TIMETABLE_REQUEST="CREATE_TIMETABLE_REQUEST",j=t.CREATE_TIMETABLE_SUCCESS="CREATE_TIMETABLE_SUCCESS",P=t.CREATE_TIMETABLE_ERROR="CREATE_TIMETABLE_ERROR",U=t.FETCH_TIMETABLE_REQUEST="FETCH_TIMETABLE_REQUEST",B=t.FETCH_TIMETABLE_SUCCESS="FETCH_TIMETABLE_SUCCESS",N=t.FETCH_TIMETABLE_ERROR="FETCH_TIMETABLE_ERROR",H=t.SAVE_TIMETABLE_REQUEST="SAVE_TIMETABLE_REQUEST",k=t.SAVE_TIMETABLE_SUCCESS="SAVE_TIMETABLE_SUCCESS",G=t.SAVE_TIMETABLE_ERROR="SAVE_TIMETABLE_ERROR",F=t.RESET_TIMETABLE="RESET_TIMETABLE",Q=t.FETCH_OTHERS_TIMETABLES_REQUEST="FETCH_OTHERS_TIMETABLES_REQUEST",V=t.FETCH_OTHERS_TIMETABLES_SUCCESS="FETCH_OTHERS_TIMETABLES_SUCCESS",x=t.FETCH_OTHERS_TIMETABLES_ERROR="FETCH_OTHERS_TIMETABLES_ERROR",J=t.TOGGLE_OTHERS_TIMETABLE="TOGGLE_OTHERS_TIMETABLE",q=t.RESET_OTHERS_TIMETABLE_VISIBILITY="RESET_OTHERS_TIMETABLE_VISIBILITY"},71:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return{type:v,payload:{username:e,password:t}}}function u(e){return{type:g,payload:{user:e}}}function l(e){return{type:h,payload:{error:e}}}function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?"/":arguments[2],r=new b["default"].User;return r.set("username",e),r.set("password",t),function(a,i){return a(o(e,t)),r.signUp(null,{success:function(e){a(u(e)),a(T.createTimetable()),a((0,y.pushPath)(n,"signup"))},error:function(e,t){a(l(t))}})}}function s(e,t){return{type:S,payload:{username:e,password:t}}}function c(e){return{type:O,payload:{user:e}}}function f(e){return{type:R,payload:{error:e}}}function d(e,t){var n=arguments.length<=2||void 0===arguments[2]?"/":arguments[2];return function(r,a){return r(s(e,t)),b["default"].User.logIn(e,t,{success:function(e){r(c(e)),r((0,y.pushPath)(n))},error:function(e,t){r(f(t))}})}}function p(){return{type:A,payload:{}}}function _(){return function(e,t){e(p()),e((0,y.pushPath)("/"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.LOGOUT=t.LOGIN_ERROR=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=t.SIGNUP_ERROR=t.SIGNUP_SUCCESS=t.SIGNUP_REQUEST=void 0,t.signupRequest=o,t.signupSuccess=u,t.signupError=l,t.signup=i,t.loginRequest=s,t.loginSuccess=c,t.loginError=f,t.login=d,t.logout=p,t.logoutAndRedirect=_;var E=n(73),b=a(E),m=n(42),T=r(m),y=n(41),v=t.SIGNUP_REQUEST="SIGNUP_REQUEST",g=t.SIGNUP_SUCCESS="SIGNUP_SUCCESS",h=t.SIGNUP_ERROR="SIGNUP_ERROR",S=t.LOGIN_REQUEST="LOGIN_REQUEST",O=t.LOGIN_SUCCESS="LOGIN_SUCCESS",R=t.LOGIN_ERROR="LOGIN_ERROR",A=t.LOGOUT="LOGOUT"},72:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){for(var e=["Monday","Tuesday","Wednesday","Thrusday","Friday","Saturday","Sunday"],t=10,n=18,r=1,a=[],o=t;n>o;o+=r){var u=[];for(var l in e)u.push({available:!1});a.push({start:o,end:o+r,cells:u})}return a}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=r(c),d=n(28),p=r(d),_=n(206),E=r(_),b=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.handleSetAvailableTime=function(e,t){var r=n.props,a=r.isSetting,o=r.onSetAvailableTime;a&&o(e,t)},n.getCellString=function(e,t){return e?"Matched":t?"Available":"Unavailable"},n}return l(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.days,r=t.timetable,o=t.isSetting,u=t.timetableToBeCompared;return f["default"].createElement("table",{className:(0,p["default"])(E["default"].timetable,a({},""+E["default"].settable,o))},f["default"].createElement("thead",null,f["default"].createElement("tr",null,f["default"].createElement("th",null,"Time"),n.map(function(e,t){return f["default"].createElement("th",{key:t},e)}))),f["default"].createElement("tbody",null,r.map(function(t,n){return f["default"].createElement("tr",{key:n},f["default"].createElement("th",null,t.start+":00 - "+t.end+":00"),t.cells.map(function(t,r){var o,l=!1;return void 0!==u&&t.available&&u[n].cells[r].available&&(l=!0),f["default"].createElement("td",{className:(0,p["default"])((o={},a(o,""+E["default"].available,t.available),a(o,""+E["default"].unavailable,!t.available),a(o,""+E["default"].matched,l),o)),onClick:function(t){return e.handleSetAvailableTime(n,r)},key:r},e.getCellString(l,t.available))}))})))}}]),t}(c.Component);t["default"]=b,b.defaultProps={days:["Monday","Tuesday","Wednesday","Thrusday","Friday","Saturday","Sunday"],start:10,end:18,diff:1,timetable:i()},b.propTypes={days:c.PropTypes.arrayOf(c.PropTypes.string),start:c.PropTypes.number,end:c.PropTypes.number,diff:c.PropTypes.number,timetable:c.PropTypes.arrayOf(c.PropTypes.shape({cells:c.PropTypes.arrayOf(c.PropTypes.shape({available:c.PropTypes.bool})),start:c.PropTypes.number,end:c.PropTypes.number})),onSetAvailableTime:c.PropTypes.func}},73:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(122),o=r(a),u=n(177),l=r(u);o["default"].initialize(l["default"].PARSE_APP_ID,l["default"].PARSE_JS_KEY),t["default"]=o["default"]},121:function(e,t,n){(function(r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(t){var n=e();return"string"==typeof n?((t||window.event).returnValue=n,n):void 0}return f.addEventListener(window,"beforeunload",t),function(){f.removeEventListener(window,"beforeunload",t)}}function u(e){return function(t){function n(){for(var e=void 0,t=0,n=_.length;null==e&&n>t;++t)e=_[t].call();return e}function a(e){return _.push(e),1===_.length&&(c.canUseDOM?d=o(n):"production"!==r.env.NODE_ENV?s["default"](!1,"listenBeforeUnload only works in DOM environments"):void 0),function(){_=_.filter(function(t){return t!==e}),0===_.length&&d&&(d(),d=null)}}function u(e){c.canUseDOM&&-1===_.indexOf(e)&&(_.push(e),1===_.length&&(d=o(n)))}function i(e){_.length>0&&(_=_.filter(function(t){return t!==e}),0===_.length&&d())}var f=e(t),d=void 0,_=[];return l({},f,{listenBeforeUnload:a,registerBeforeUnloadHook:p["default"](u,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:p["default"](i,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(16),s=a(i),c=n(47),f=n(59),d=n(30),p=a(d);t["default"]=u,e.exports=t["default"]}).call(t,n(1))},169:function(e,t,n){e.exports=n.p+"cf5e67d0dd245d8000eb04a6689af470.png"},170:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=function(t){function n(){var e,t,r,u;a(this,n);for(var l=arguments.length,i=Array(l),s=0;l>s;s++)i[s]=arguments[s];return t=r=o(this,(e=Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.checkAuth=function(){var e=r.props,t=e.auth,n=e.dispatch,a=e.location;if(!t.user){var o=a.pathname;n((0,d.pushPath)("/login?redirectAfterLogin="+o))}},u=t,o(r,u)}return u(n,t),i(n,[{key:"componentWillMount",value:function(){this.checkAuth()}},{key:"componentWillReceiveProps",value:function(e){this.checkAuth()}},{key:"render",value:function(){var t=this.props.auth;return c["default"].createElement("div",null,t.user?c["default"].createElement(e,this.props):null)}}]),n}(e),n=function(e){return{auth:e.auth}};return(0,f.connect)(n)(t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var s=n(6),c=r(s),f=n(33),d=n(41)},171:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),c=a(s),f=n(33),d=n(81),p=n(72),_=(a(p),n(42)),E=r(_),b=n(28),m=(a(b),n(207)),T=a(m),y=n(71),v=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.onLogOut=function(){var e=n.props.dispatch;e((0,y.logoutAndRedirect)()),e(E.resetTimetable())},console.log("[App] props",e),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.auth;n.user&&t(E.fetchTimetable())}},{key:"render",value:function(){var e=this,t=this.props,n=(t.dispatch,t.auth);return c["default"].createElement("div",{className:T["default"].container},c["default"].createElement("div",{className:T["default"].title},"Meeting App"),c["default"].createElement("ul",{className:T["default"].navbar},n.user?c["default"].createElement("li",{className:T["default"].logout},c["default"].createElement("a",{href:"#",onClick:function(){return e.onLogOut()}},"Log out")):null,c["default"].createElement("li",{className:T["default"].first},n.user?c["default"].createElement(d.Link,{activeClassName:T["default"].active,to:"/home"},"Home"):c["default"].createElement(d.Link,{activeClassName:T["default"].active,to:"/login"},"Log in")),c["default"].createElement("li",{className:T["default"].last},c["default"].createElement(d.Link,{activeClassName:T["default"].active,to:"/meeting"},"Set up a meeting"))),this.props.children)}}]),t}(s.Component),g=function(e){return e};t["default"]=(0,f.connect)(g)(v)},172:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=a(c),d=n(33),p=n(72),_=a(p),E=n(42),b=r(E),m=n(28),T=a(m),y=n(208),v=a(y),g=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return console.log("[Home] props",e),n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.routing;"signup"!=n.state&&t(b.fetchTimetable())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,r=e.auth,a=e.timetable,o=r.user.get("username");return f["default"].createElement("div",{className:v["default"].container},f["default"].createElement("div",{className:v["default"].infobar},f["default"].createElement("img",{className:v["default"].avatar,src:n(169)}),f["default"].createElement("span",{className:v["default"].username},o),a.isSetting?[f["default"].createElement("span",{key:"1",className:(0,T["default"])(v["default"].button,v["default"].cancel),onClick:function(){return t(b.cancelSetAvailableTime())}},"Cancel"),f["default"].createElement("span",{key:"2",className:(0,T["default"])(v["default"].button,v["default"].save),onClick:function(){return t(b.saveTimetable())}},"Save")]:f["default"].createElement("span",{className:(0,T["default"])(v["default"].button,v["default"].setAvailableTime),onClick:function(){return t(b.requestSetAvailableTime())}},"Set available time")),f["default"].createElement(_["default"],i({},a,{onSetAvailableTime:function(e,n){return t(b.setAvailableTime(e,n))}})))}}]),t}(c.Component),h=function(e){return e};t["default"]=(0,d.connect)(h)(g)},173:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=a(c),d=n(33),p=n(41),_=n(28),E=a(_),b=n(209),m=a(b),T=n(71),y=r(T),v=function(e){function t(e){u(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.handleChange=function(e,t){var r=e.target.value.trim();switch(t){case"username":n.setState({username:r});break;case"password":n.setState({password:r})}},n.handleSubmit=function(e,t){var r=n.props,a=r.dispatch,o=r.location,u=o.query.redirectAfterLogin||"/home";if(""===n.state.username)return n.setState({errorMessage:"Username is required !"});if(""===n.state.password)return n.setState({errorMessage:"Password is required !"});switch(t){case"login":a(y.login(n.state.username,n.state.password,u));break;case"signup":a(y.signup(n.state.username,n.state.password,u))}},console.log("[Login] props",e),n.state={username:"",password:"",errorMessage:""},n}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,n=e.auth;n.user&&t((0,p.pushPath)("/home"))}},{key:"componentWillReceiveProps",value:function(e){this.setState({errorMessage:e.auth.errorMessage})}},{key:"render",value:function(){var e,t=this;return f["default"].createElement("div",{className:m["default"].container},f["default"].createElement("div",{className:(0,E["default"])((e={},o(e,""+m["default"].errorMessage,""!==this.state.errorMessage),o(e,""+m["default"].hidden,""===this.state.errorMessage),e))},this.state.errorMessage),f["default"].createElement("div",{className:m["default"].field},f["default"].createElement("label",null,"Username"),f["default"].createElement("input",{type:"text",autoFocus:"true",value:this.state.username,placeholder:"Username",onChange:function(e){return t.handleChange(e,"username")}})),f["default"].createElement("div",{className:m["default"].field},f["default"].createElement("label",null,"Password"),f["default"].createElement("input",{type:"text",autoFocus:"true",value:this.state.password,placeholder:"Password",onChange:function(e){return t.handleChange(e,"password")}})),f["default"].createElement("div",{className:m["default"].buttonGroup},f["default"].createElement("button",{className:m["default"].login,onClick:function(e){return t.handleSubmit(e,"login")}},"Log in"),f["default"].createElement("button",{className:m["default"].signup,onClick:function(e){return t.handleSubmit(e,"signup")}},"Sign up")))}}]),t}(c.Component),g=function(e){return e};t["default"]=(0,d.connect)(g)(v)},174:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(6),d=a(f),p=n(33),_=n(72),E=a(_),b=n(42),m=r(b),T=n(28),y=a(T),v=n(210),g=a(v),h=function(e){function t(e){u(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.state={visibility:!1},n}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(m.fetchOthersTimetables())}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(m.resetOthersTimetableVisibility())}},{key:"render",value:function(){var e=this.props.dispatch,t=this.props.timetable,r=t.timetable,a=t.othersTimetables;return d["default"].createElement("div",{className:g["default"].container},a.map(function(t,a){return[d["default"].createElement("div",{className:g["default"].infobar},d["default"].createElement("img",{className:g["default"].avatar,src:n(169)}),d["default"].createElement("span",{className:g["default"].username},t.username),d["default"].createElement("span",{className:g["default"].button,onClick:function(t){return e(m.toggleOthersTimetable(a))}},"Check out timetable")),d["default"].createElement("div",{className:(0,y["default"])(g["default"].slider,o({},""+g["default"].visible,t.visibility))},d["default"].createElement(E["default"],s({},t,{timetableToBeCompared:r})))]}))}}]),t}(f.Component),S=function(e){return e};t["default"]=(0,p.connect)(S)(h)},175:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),s=r(i),c=n(28),f=(r(c),n(211)),d=r(f),p=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return console.log("[NotFound] props",e),n}return u(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:d["default"].container},s["default"].createElement("div",{className:d["default"].title},"404 Not Found"))}}]),t}(i.Component);t["default"]=p},176:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(6),o=r(a),u=n(131),l=n(33),i=n(81),s=n(230),c=n(41),f=n(181),d=r(f),p=n(171),_=r(p),E=n(173),b=r(E),m=n(172),T=r(m),y=n(174),v=r(y),g=n(175),h=r(g),S=n(170),O=r(S),R=(0,s.createHistory)();(0,c.syncReduxAndRouter)(R,d["default"]),(0,u.render)(o["default"].createElement(l.Provider,{store:d["default"]},o["default"].createElement(i.Router,{history:R},o["default"].createElement(i.Route,{path:"/",component:_["default"]},o["default"].createElement(i.IndexRoute,{component:b["default"]}),o["default"].createElement(i.Route,{path:"/login",component:b["default"]}),o["default"].createElement(i.Route,{path:"/home",component:(0,O["default"])(T["default"])}),o["default"].createElement(i.Route,{path:"/meeting",component:v["default"]})),o["default"].createElement(i.Route,{path:"*",component:h["default"]}))),document.getElementById("app"))},177:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={PARSE_APP_ID:"vpNdKRT27czZ0UyJJ0I3sDHbXKIWiLxY767wjMzn",PARSE_JS_KEY:"SeiC7y9aveYViNvWknpgp4q55AoRsXYuVMzUmaKY"}},178:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0],t=arguments[1];switch(t.type){case s.SIGNUP_REQUEST:return console.log("signing up ..."),console.log("username",t.payload.username),console.log("password",t.payload.password),Object.assign({},e);case s.SIGNUP_SUCCESS:return console.log("sign up success",t.payload.user),Object.assign({},e,{user:t.payload.user,errorMessage:""});case s.SIGNUP_ERROR:return console.log("sign up error",t.payload.error),Object.assign({},e,{errorMessage:t.payload.error.message||"Sign up error"});case s.LOGIN_REQUEST:return console.log("logging ..."),console.log("username",t.payload.username),console.log("password",t.payload.password),Object.assign({},e);case s.LOGIN_SUCCESS:return console.log("login success",t.payload.user),Object.assign({},e,{user:t.payload.user,errorMessage:""});case s.LOGIN_ERROR:return console.log("login error",t.payload.error),Object.assign({},e,{errorMessage:t.payload.error.message||"Log in error"});case s.LOGOUT:return console.log("logout"),l["default"].User.logOut(),Object.assign({},e,{user:null});default:return Object.assign({},e)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(73),l=a(u),i=n(71),s=r(i),c={user:l["default"].User.current()||null,errorMessage:""}},179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),o=n(41),u=n(178),l=r(u),i=n(180),s=r(i),c={auth:l["default"],timetable:s["default"]},f=(0,a.combineReducers)(Object.assign({},c,{routing:o.routeReducer}));t["default"]=f},180:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(){for(var e=["Monday","Tuesday","Wednesday","Thrusday","Friday","Saturday","Sunday"],t=10,n=18,r=1,a=[],o=t;n>o;o+=r){var u=[];for(var l in e)u.push({available:!1});a.push({start:o,end:o+r,cells:u})}return a}function o(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case l.REQUEST_SET_AVAILABLE_TIME:return Object.assign({},e,{isSetting:!0});case l.CANCEL_SET_AVAILABLE_TIME:return Object.assign({},e,{isSetting:!1,timetable:e.prevTimetable});case l.SET_AVAILABLE_TIME:var n=JSON.parse(JSON.stringify(e.timetable)),r=t.payload.row,o=t.payload.col;return n[r].cells[o].available=!n[r].cells[o].available,Object.assign({},e,{timetable:n});case l.CREATE_TIMETABLE_REQUEST:return console.log("creating timetable ..."),Object.assign({},e);case l.CREATE_TIMETABLE_SUCCESS:return console.log("create timetable success",t.payload.timetable),Object.assign({},e,{timetableParseObject:t.payload.timetable,timetable:JSON.parse(t.payload.timetable.get("data")),prevTimetable:JSON.parse(t.payload.timetable.get("data"))});case l.CREATE_TIMETABLE_ERROR:return console.log("create timetable error",t.payload.error),Object.assign({},e);case l.FETCH_TIMETABLE_REQUEST:return console.log("fetching timetable ..."),Object.assign({},e);case l.FETCH_TIMETABLE_SUCCESS:return console.log("fetch timetable success",t.payload.timetable),Object.assign({},e,{timetableParseObject:t.payload.timetable,timetable:JSON.parse(t.payload.timetable.get("data")),prevTimetable:JSON.parse(t.payload.timetable.get("data"))});case l.FETCH_TIMETABLE_ERROR:return console.log("fetch timetable error",t.payload.error),Object.assign({},e);case l.SAVE_TIMETABLE_REQUEST:return console.log("saving timetable ..."),Object.assign({},e);case l.SAVE_TIMETABLE_SUCCESS:return console.log("save timetable success",t.payload.timetable),Object.assign({},e,{timetableParseObject:t.payload.timetable,timetable:JSON.parse(t.payload.timetable.get("data")),prevTimetable:JSON.parse(t.payload.timetable.get("data")),isSetting:!1});case l.SAVE_TIMETABLE_ERROR:return console.log("save timetable error",t.payload.error),Object.assign({},e,{timetable:e.prevTimetable});case l.RESET_TIMETABLE:return console.log("reset timetable"),Object.assign({},e,{timetableParseObject:null,timetable:a(),prevTimetable:a(),othersTimetables:[]});case l.FETCH_OTHERS_TIMETABLES_REQUEST:return console.log("fetching others timetables ..."),Object.assign({},e);case l.FETCH_OTHERS_TIMETABLES_SUCCESS:return console.log("fetch others timetables success",t.payload.timetables),Object.assign({},e,{othersTimetables:t.payload.timetables.map(function(e){return{timetableParseObject:e,userParseObject:e.get("user"),username:e.get("user").get("username"),timetable:JSON.parse(e.get("data")),visibility:!1}})});case l.FETCH_OTHERS_TIMETABLES_ERROR:return console.log("fetch others timetable error",t.payload.error),Object.assign({},e);case l.TOGGLE_OTHERS_TIMETABLE:var u=JSON.parse(JSON.stringify(e.othersTimetables));return u[t.payload.index].visibility=!u[t.payload.index].visibility,Object.assign({},e,{othersTimetables:u});case l.RESET_OTHERS_TIMETABLE_VISIBILITY:var u=JSON.parse(JSON.stringify(e.othersTimetables));
return u.map(function(e){return e.visibility=!1}),Object.assign({},e,{othersTimetables:u});default:return Object.assign({},e)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(42),l=r(u),i={timetableParseObject:null,timetable:a(),prevTimetable:a(),isSetting:!1,othersTimetables:[]}},181:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),o=n(164),u=r(o),l=n(179),i=r(l),s=(0,a.applyMiddleware)(u["default"])(a.createStore),c=s(i["default"]);t["default"]=c},206:function(e,t){e.exports={timetable:"Timetable__timetable___2om_E",settable:"Timetable__settable___3rh2q",unavailable:"Timetable__unavailable___2sY0T",available:"Timetable__available___1xFht",matched:"Timetable__matched___2hrbj"}},207:function(e,t){e.exports={title:"App__title___3JEFe",container:"App__container___3PEyG",navbar:"App__navbar___3hdcl",active:"App__active___2fdcw",first:"App__first___mHNio",last:"App__last___pqA7G",logout:"App__logout___3Akim"}},208:function(e,t){e.exports={container:"Home__container___2oIHH",infobar:"Home__infobar___3AXNO",avatar:"Home__avatar___2UFQY",username:"Home__username___27RmJ",button:"Home__button___Kd6C3",setAvailableTime:"Home__setAvailableTime___e_z0t",save:"Home__save___1r6zf",cancel:"Home__cancel___1X09E"}},209:function(e,t){e.exports={container:"Login__container___6sc6E",hidden:"Login__hidden___BTnLV",errorMessage:"Login__errorMessage___2iT2h",field:"Login__field___2qFWZ",buttonGroup:"Login__buttonGroup___1K32I",login:"Login__login___3XRx1",signup:"Login__signup___1GjLv"}},210:function(e,t){e.exports={container:"Meeting__container___1cY3e",infobar:"Meeting__infobar___8heCR",avatar:"Meeting__avatar___28-qT",username:"Meeting__username___1gQlX",button:"Meeting__button___35u2-",slider:"Meeting__slider___3R83x",hideAnimation:"Meeting__hideAnimation___2Ma5u",visible:"Meeting__visible___1SmY1",showAnimation:"Meeting__showAnimation___2-IeU"}},211:function(e,t){e.exports={container:"NotFound__container___fvQuG",title:"NotFound__title___2bhdv"}},227:function(e,t,n){(function(r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){e=e||window.history.state||{};var t=f.getWindowPath(),n=e,r=n.key,a=void 0;r?a=d.readState(r):(a=null,r=v.createKey(),T&&window.history.replaceState(u({},e,{key:r}),null,t));var o=b["default"](t);return v.createLocation(u({},o,{state:a}),void 0,r)}function t(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return f.addEventListener(window,"popstate",n),function(){f.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,a=e.hash,o=e.state,u=e.action,l=e.key;if(u!==s.POP){d.saveState(l,o);var i=(t||"")+n+r+a,c={key:l};if(u===s.PUSH){if(y)return window.location.href=i,!1;window.history.pushState(c,null,i)}else{if(y)return window.location.replace(i),!1;window.history.replaceState(c,null,i)}}}function a(e){1===++g&&(h=t(v));var n=v.listenBefore(e);return function(){n(),0===--g&&h()}}function o(e){1===++g&&(h=t(v));var n=v.listen(e);return function(){n(),0===--g&&h()}}function l(e){1===++g&&(h=t(v)),v.registerTransitionHook(e)}function p(e){v.unregisterTransitionHook(e),0===--g&&h()}var E=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.canUseDOM?void 0:"production"!==r.env.NODE_ENV?i["default"](!1,"Browser history needs a DOM"):i["default"](!1);var m=E.forceRefresh,T=f.supportsHistory(),y=!T||m,v=_["default"](u({},E,{getCurrentLocation:e,finishTransition:n,saveState:d.saveState})),g=0,h=void 0;return u({},v,{listenBefore:a,listen:o,registerTransitionHook:l,unregisterTransitionHook:p})}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(14),i=a(l),s=n(29),c=n(47),f=n(59),d=n(113),p=n(114),_=a(p),E=n(31),b=a(E);t["default"]=o,e.exports=t["default"]}).call(t,n(1))},228:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(30),o=r(a),u=n(121),l=r(u);t["default"]=o["default"](l["default"],"enableBeforeUnload is deprecated, use useBeforeUnload instead"),e.exports=t["default"]},229:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(30),o=r(a),u=n(79),l=r(u);t["default"]=o["default"](l["default"],"enableQueries is deprecated, use useQueries instead"),e.exports=t["default"]},230:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(30),o=r(a),u=n(117),l=r(u),i=n(227),s=r(i);t.createHistory=s["default"];var c=n(115),f=r(c);t.createHashHistory=f["default"];var d=n(118),p=r(d);t.createMemoryHistory=p["default"];var _=n(120),E=r(_);t.useBasename=E["default"];var b=n(121),m=r(b);t.useBeforeUnload=m["default"];var T=n(79),y=r(T);t.useQueries=y["default"];var v=n(29),g=r(v);t.Actions=g["default"];var h=n(228),S=r(h);t.enableBeforeUnload=S["default"];var O=n(229),R=r(O);t.enableQueries=R["default"];var A=o["default"](l["default"],"Using createLocation without a history instance is deprecated; please use history.createLocation instead");t.createLocation=A}});